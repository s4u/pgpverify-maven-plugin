<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/markdown/keysmap-format.md at 2025-03-08
 | Rendered using Apache Maven Fluido Skin 2.0.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>KeysMap file format – Verify PGP signatures plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.1.min.js"></script>
<script async src="https://www.simplify4u.org/common.js" type="text/javascript"></script>
    <style>.github-fork-ribbon:before { background-color: gray; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/s4u/pgpverify-maven-plugin" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <!-- Load Facebook SDK for JavaScript -->
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en/sdk.js#xfbml=1&version=v6.0"></script>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1>Verify PGP signatures plugin</h1></div></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
      <li><a href="../parent/index.html">Home</a><span class="divider">/</span></li>
      <li><a href="index.html">Verify PGP signatures plugin</a><span class="divider">/</span></li>
    <li class="active">KeysMap file format</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2025-03-08</li>
          <li id="projectVersion" class="pull-right">Version: 1.19.1</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Overview</li>
    <li><a href="index.html">Introduction</a></li>
    <li><a href="plugin-info.html">Plugin Documentation</a></li>
    <li class="active"><a>KeysMap file format</a></li>
    <li><a href="report-format.html">Report file format</a></li>
    <li><a href="keysmap-multiple.html">Multiple KeysMap configuration</a></li>
    <li><a href="examples.html">Examples of usage</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
   <li class="nav-header">Simplify4U projects</li>
    <li><a href="../parent/index.html">Parent</a></li>
    <li><a href="../jfatek/index.html">Fatek PLC client</a></li>
    <li><a href="../sitemapxml-maven-plugin/index.html">Sitemap generator for maven site</a></li>
    <li><a href="../slf4j-mock/index.html">SLF4J mock</a></li>
    <li><a href="../pgpverify-maven-plugin/index.html">Verify OpenPGP signatures</a></li>
    <li><a href="../sign-maven-plugin/index.html">Create OpenPGP signatures</a></li>
    <li><a href="https://github.com/s4u/pgp-keys-map" class="externalLink">PGP keys map to artifacts</a></li>
    <li><a href="https://github.com/marketplace/actions/setup-maven-action" class="externalLink">Setup Maven -&amp;nbsp;GitHub&amp;nbsp;Action</a></li>
    <li><a href="https://github.com/marketplace/actions/maven-settings-action" class="externalLink">Customize Maven settings.xml -&amp;nbsp;GitHub&amp;nbsp;Action</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
    <div class="fb-like" style="border:none; margin-top: 10px" data-href="https://www.simplify4u.org/pgpverify-maven-plugin" data-layout="box_count" data-show-faces="false" data-action="like" data-share="true"></div>
              <div class="clear"></div>
    <div id="twitter" style="border:none; margin-top: 10px">
    <a href="https://twitter.com/Simplify4U" class="twitter-follow-button" data-show-count="false" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en" data-dnt="true" >Follow Simplify4U</a>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="KeysMap_file_format"></a>
<h1>KeysMap file format</h1>
<p>The format of the file is similar to, but more flexible than, a Java properties file.
The syntax of each line of properties file is:</p>

<pre><code class="nohighlight nocode">groupId:artifactId:packaging:version=pgpKeyFingerprint
</code></pre>
<p>Where</p>
<ul>

<li><code>groupId</code>           - groupId of Maven artifact, this field is required, but can be <code>*</code> for match any</li>
<li><code>artifactId</code>        - artifactId of Maven artifact - optional</li>
<li><code>packaging</code>         - packaging of Maven artifact, eg. <code>pom</code>, <code>jar</code> - optional</li>
<li><code>version</code>           - version of Maven artifact, this field supports Maven version range syntax or regular expressions - optional</li>
<li><code>pgpKeyFingerprint</code> - PGP key fingerprints in hex format which are allowed to sign artifact,
multiple keys can be supplied separated by comma</li>
</ul><section><a id="PGP_keys_special_values"></a>
<h2>PGP keys special values</h2>
<p><code>pgpKey</code> field can contains multiple PGP fingerprints, separated by a comma,
each fingerprint must start with <code>0x</code>. Whitespace is allowed in hex fingerprint.</p>
<p><code>pgpKey</code> can also contain special values:</p>
<ul>

<li><code>*</code>, <code>any</code> - match any key for artifact</li>
<li><code>noSig</code>    - allow artifact without signature</li>
<li><code>badSig</code>   - allow artifact with invalid signature</li>
<li><code>noKey</code>    - allow that key for artifact will not exist on public key servers</li>
</ul></section><section><a id="The_order_of_items_and_matching"></a>
<h2>The order of items and matching</h2>
<p>The order of items is not important.</p>
<p>In first step items are filtered for matching artifact and then fingerprints or special key value are searched until first is found.</p></section><section><a id="Comments"></a>
<h2>Comments</h2>
<p>Everything from <code>#</code> (hash sign) and continue to the end of the line are comment and will be skipped.</p></section><section><a id="Multiline"></a>
<h2>Multiline</h2>
<p>If line is ending with <code>\</code> (backslash), break of line will be removed and next line will be joined.</p>
<p>Whitespace and comments are allowed after <code>\</code>.</p></section><section><a id="Version_Regular_Expressions"></a>
<h2>Version Regular Expressions</h2>
<p>When the version field begins with <code>~</code> (tilde), everything following the tilde is a case-insensitive regular
expression matched against artifact version.</p>
<p>When the version field begins with <code>!~</code> (not-tilde), everything following the not-tilde is a case-insensitive regular
expression with a negated match against artifact version.</p>
<p>This may be used, for example, to have separate PGP signing keys for continuous integration snapshot builds,
while releases are signed by more protected PGP keys unavailable to the continuous integration platform.</p></section><section><a id="Revoked_key_without_public_key"></a>
<h2>Revoked key without public key</h2>
<p>There are keys which contains only revocation signature without public key material.</p>
<p>In such case verification of signature is not possible, we can only check that artifact was signed by given key.</p>
<p>We can mark such key with exclamation &#x2757; prefix.</p>
<p>like:</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId:1.0.0 = !0x1234567890123456789012345678901234567890  
</code></pre></section><section><a id="Examples"></a>
<h2>Examples</h2>
<p>match any artifact from group with any packaging and version</p>

<pre><code class="nohighlight nocode">test.groupId = 0x1234567890123456789012345678901234567890
</code></pre><hr />
<p>match any artifact from group and any subgroups with any packaging and version</p>

<pre><code class="nohighlight nocode">test.groupId.* = 0x1234567890123456789012345678901234567890  
</code></pre><hr />
<p>match a specific artifact with any packaging and version</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId = 0x1234567890123456789012345678901234567890  
</code></pre><hr />
<p>match a specific artifact with packaging and with any version</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId:jar = 0x1234567890123456789012345678901234567890
</code></pre><hr />
<p>match a specific artifact with packaging and version</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId:jar:1.0.0 = 0x1234567890123456789012345678901234567890
</code></pre><hr />
<p>match a specific artifact with packaging and version range</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId:jar:[1.0.0,2.0.0) = 0x1234567890123456789012345678901234567890
</code></pre><hr />
<p>match a specific artifact with the version and any packaging</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId:1.0.0 = 0x1234567890123456789012345678901234567890  
</code></pre><hr />
<p>match any artifact from group with any packaging and a SNAPSHOT/timestamped version by regular expression</p>

<pre><code class="nohighlight nocode">test.groupId:*:~.*-(SNAPSHOT|\d{8,}\.\d{6}-\d+) = 0x1234567890123456789012345678901234567890
</code></pre><hr />
<p>match any artifact from group with any packaging and a non-SNAPSHOT/timestamped version by negated regular expression</p>

<pre><code class="nohighlight nocode">test.groupId:*:!~.*-(SNAPSHOT|\d{8,}\.\d{6}-\d+) = 0x1234567890123456789012345678901234567890
</code></pre><hr />
<p>match a specific artifact with any packaging and a SNAPSHOT/timestamped version by regular expression</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId:~.*-(SNAPSHOT|\d{8,}\.\d{6}-\d+) = 0x1234567890123456789012345678901234567890
</code></pre><hr />
<p>match a specific artifact with specific packaging and a SNAPSHOT/timestamped version by regular expression</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId:jar:~.*-(SNAPSHOT|\d{8,}\.\d{6}-\d+) = 0x1234567890123456789012345678901234567890
</code></pre><hr />
<p>match a specific artifact with any version and packaging and many keys</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId = 0x1234567890123456789012345678901234567890, 0x1234567890123456789012345678901234567890, \ 
                          0x1234567890123456789012345678901234567890
</code></pre><hr />
<p>allow bad signature for a specific artifact with version</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId           = 0x1234567890123456789012345678901234567890
test.groupId:artifactId:pom:1.0.0 = badSig
</code></pre><hr />
<p>match specific artifact with any packaging and version and allow that signature will not exist</p>

<pre><code class="nohighlight nocode">test.groupId:artifactId = 0x1234567890123456789012345678901234567890, noSig
</code></pre><hr />
<p>define fingerprints for group and one for specific artifact</p>

<pre><code class="nohighlight nocode">test.groupId            = 0x1111222233334444555566667777888899990000
test.groupId:artifactId = 0x0000999988887777666655554444333322221111
</code></pre>
<p>in this case every artifact from group <code>test.groupId</code> can be signed by key <code>0x1111222233334444555566667777888899990000</code>.</p>
<p>artifact <code>test.groupId:artifactId</code> can be signed by <code>0x0000999988887777666655554444333322221111</code>
and also by <code>0x1111222233334444555566667777888899990000</code>.</p><hr />
<p>comments</p>

<pre><code class="nohighlight nocode"># my comments
test.groupId:artifactId = \               # 
                          0x1234567890123456789012345678901234567890, \ # first key 
                          0x1234567890123456789012345678901234567890, \ # second key
                          0x1234567890123456789012345678901234567890    # end 
</code></pre><hr /></section><section><a id="External_resources"></a>
<h2>External resources</h2>
<ul>

<li><a href="https://maven.apache.org/guides/mini/guide-naming-conventions.html" class="externalLink">Maven GAV - naming conventions</a></li>
<li><a href="https://maven.apache.org/enforcer/enforcer-rules/versionRanges.html" class="externalLink">Version range syntax</a></li>
</ul></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p class="pull-right">©      2014–2025
<a href="https://www.simplify4u.org">Simplify4U</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>